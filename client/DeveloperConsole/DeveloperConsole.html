<template name='DeveloperConsoleHeader'>
  <div>Developer Console</div>
</template>

<template name='DeveloperConsole'>
	{{#if checkUserAndRole User._id "developer"}}
		<div>Welcome Developer!</div>
		<br>
		<div>
			Manage Marathons:
			{{>DeveloperConsoleMarathons}}
		</div>
		<br>
		<div>
			Manage Games:
			{{>DeveloperConsoleGames}}
		</div>
		<br>
		{{#with getDataContextOfNewGame User._id}}
			<a href='{{pathFor "NewGame"}}'>New Game!</a>
		{{/with}}
		{{#with getDataContextOfNewGame User._id}}
			<a href='{{pathFor "NewMarathon"}}'>New Marathon!</a>
		{{/with}}
	{{else}}
		{{>LoginTemplate}}
	{{/if}}
</template>

<template name='DeveloperConsoleGames'>
	{{#each DeveloperGames}}
		<div>
			{{#with getDataContextOfManageGame ../User._id _id}}
				<span>{{../name}}</span>
				<a href="{{pathFor 'ManageGame'}}">Manage Game</a>
			{{/with}}
		</div>
	{{/each}}
</template>

<template name='DeveloperConsoleMarathons'>
	{{#each DeveloperMarathons}}
		<div>
			{{#with getDataContextOfManageMarathon ../User._id _id}}
				<span>{{../name}}</span>
				<a href="{{pathFor 'ManageMarathon'}}">Manage Marathon</a>
			{{/with}}
		</div>
	{{/each}}
</template>
